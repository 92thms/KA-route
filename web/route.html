<!doctype html>
<html lang="de">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>klanavo</title>
<link rel="icon" type="image/png" href="favico.png">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
<link rel="stylesheet" href="route.css">

<body>

<div class="app-header">
  <h1><img src="klanavo.png" alt="klanavo" class="logo"> klanavo</h1>
  <p>Plane deine Route von Start bis Ziel, entdecke Inserate entlang der Strecke und klick dich durch die grünen Pins auf der Karte. </br> Bei Problemen schreib uns an klanavo[at]zneb.to.</p>
</div>

<header>
  <div class="group suggest" id="grpStart">
    <label for="start">Start</label>
    <input id="start" placeholder="Adresse/Ort eingeben" autocomplete="off">
    <ul id="start-suggest" hidden></ul>
  </div>
  <div class="group suggest" id="grpZiel">
    <label for="ziel">Ziel</label>
    <input id="ziel" placeholder="Adresse/Ort eingeben" autocomplete="off">
    <ul id="ziel-suggest" hidden></ul>
  </div>
  <div class="group" id="grpQuery">
    <label for="query">Suchbegriff</label>
    <input id="query" placeholder="Suchbegriff">
  </div>
  <div class="group" id="grpCategory">
    <label for="category">Kategorie</label>
    <select id="category"></select>
  </div>
  <div class="group" id="grpPrice">
    <label for="priceMin">Preis (€)</label>
    <div class="price-range">
      <input id="priceMin" type="number" placeholder="Von">
      <input id="priceMax" type="number" placeholder="Bis">
    </div>
  </div>
  <div class="group" id="grpSettings">
    <details>
      <summary>⚙ Einstellungen</summary>
      <label for="radius" title="Umkreis der Suche">Suchradius: <span id="radiusVal"></span> km</label>
      <input id="radius" type="range" min="0" max="2" step="1" value="1" list="radiusTicks" title="Umkreis der Suche">
      <datalist id="radiusTicks">
        <option value="0" label="5"></option>
        <option value="1" label="10"></option>
        <option value="2" label="20"></option>
      </datalist>
      <label for="step" title="Abstand zwischen Wegpunkten">Punktabstand: <span id="stepVal"></span> km</label>
      <input id="step" type="range" min="0" max="2" step="1" value="1" list="stepTicks" title="Abstand zwischen Wegpunkten">
      <datalist id="stepTicks">
        <option value="0" label="5"></option>
        <option value="1" label="10"></option>
        <option value="2" label="20"></option>
      </datalist>
      <label for="apiKey">Eigener ORS API-Key (optional, <a href="https://openrouteservice.org/dev/#/signup" target="_blank">hier</a>)</label>
      <input id="apiKey" type="password" placeholder="API-Key">
      <div id="rateLimitInfo" class="muted"></div>
    </details>
  </div>
  <div class="group" id="grpRun">
    <label>&nbsp;</label>
    <button id="btnRun">Route berechnen &amp; suchen</button>
  </div>
  <div class="group hidden" id="grpReset">
    <label>&nbsp;</label>
    <button id="btnReset">Neustart</button>
  </div>
</header>

<div id="map-box" class="hidden">
  <div id="map-progress"><div id="progressBar" class="bar"></div><span id="progressText" class="pct">0%</span></div>
  <div id="map"></div>
</div>

<div id="panel">
  <div id="results" class="hidden"><div class="results-header"><strong>Ergebnisliste</strong><button id="btnToggleAll" class="toggle-all" data-state="closed" title="Alle ausklappen">▼</button></div></div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="config.js"></script>
<script src="route.js"></script>

</body>
</html>
